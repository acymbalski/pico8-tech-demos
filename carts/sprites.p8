pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

cursor = {}
board = {}
board.c = {}
board.h = 16
board.w = 16
board.cs = 8

-- called by program to initialize variables
function _init()
    cursor.x = 10
    cursor.y = 10

    -- populate board with cells
    for i=0, board.w do
        board.c[i] = {}
        for j=0, board.h do
            c = {}
            c.x = i
            c.y = j
            c.spr = 8 -- dummy val, blank
            board.c[i][j] = c
        end
    end

    -- just an assortment of sprites drawn
    for s=1, 4 do
        for i=0, flr(rnd(8)) + 2 do
            x = flr(rnd(board.w))
            y = flr(rnd(board.h))
            board.c[x][y].spr = s
        end
    end
end

-- called by program to update variables
function _update()
    if btnp(0) then cursor.x = cursor.x - 1 end
    if btnp(1) then cursor.x = cursor.x + 1 end
    if btnp(2) then cursor.y = cursor.y - 1 end
    if btnp(3) then cursor.y = cursor.y + 1 end
end

-- called by program to draw sprites
function _draw()
    cls()

    -- draw board
    for i=0, board.w do
        for j=0, board.h do
            c = board.c[i][j]
            spr(c.spr, c.x * board.cs, c.y * board.cs)
        end
    end

    spr(0, cursor.x * board.cs, cursor.y * board.cs)

    snum = board.c[cursor.x][cursor.y].spr
    print("Sprite #"..snum, 8, 120)
    print("Flags "..fget(snum), 8, 112)
end

__gfx__
700770070bbbbbb00999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007bb0000bb9900009900eeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000b000700b900777090ee00ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000b007700b900007090e0700e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007b000700b900700090e0070e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007b000700b900777090ee00ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bb0000bb9900009900eeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
077007700bbbbbb00999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0002040600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010101030000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000202030000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000002020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001010103000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
